(function(){"use strict";var e={9146:function(e,t,a){var i=a(5471),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-form",{attrs:{inline:""}},[t("el-form-item",{attrs:{label:"设备标识符"}},[e._v(e._s(e.device))]),t("el-form-item",[t("el-select",{attrs:{placeholder:"选择任务"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",["Settings-Stage1"===e.form.type?t("el-input",{attrs:{placeholder:"关卡名称"},model:{value:e.form.params,callback:function(t){e.$set(e.form,"params",t)},expression:"form.params"}}):e._e()],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.addTask}},[e._v("提交任务")]),t("el-button",{attrs:{type:"primary"},on:{click:e.refresh}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary"},on:{click:e.capture}},[e._v("截图")])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{border:"",data:e.tableData}},[t("el-table-column",{attrs:{label:"任务名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.taskMapper[t.row.type]+(null==t.row.params?"":t.row.params))+" ")]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.removeTask(a.row.id)}}},[e._v("删除任务")])]}}])})],1),t("el-image",{directives:[{name:"loading",rawName:"v-loading",value:e.imageLoading,expression:"imageLoading"}],staticStyle:{width:"100%",height:"720px","margin-top":"20px"},attrs:{src:"data:image/png;base64,"+e.image,fit:"contain"}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1)},r=[],o=a(4335),l=a(246),s={name:"app",data(){return{device:null,options:[{label:"开始唤醒",value:"LinkStart-WakeUp"},{label:"基建换班",value:"LinkStart-Base"},{label:"刷理智",value:"LinkStart-Combat"},{label:"自动公招",value:"LinkStart-Recruiting"},{label:"获取信用及购物",value:"LinkStart-Mall"},{label:"自动肉鸽",value:"LinkStart-AutoRoguelike"},{label:"生息演算·沙洲遗闻",value:"LinkStart-ReclamationAlgorithm"},{label:"一键长草",value:"LinkStart"},{label:"设置关卡",value:"Settings-Stage1"}],taskMapper:{},tableData:[],tableLoading:!0,form:{type:null,params:null},image:null,imageLoading:!1}},created(){this.options.forEach((e=>this.taskMapper[e.value]=e.label)),this.device=localStorage.getItem("device"),null==this.device&&this.$prompt("请输入设备标识符","提示",{confirmButtonText:"确定",showClose:!1,showCancelButton:!1}).then((({value:e})=>{localStorage.setItem("device",e),this.device=e}))},mounted(){this.taskList(),l.Ay.create(document.querySelector(".el-table__body-wrapper tbody"),{onEnd:e=>{const t=this.tableData[e.oldIndex].id,a=e.newIndex===this.tableData.length-1?null:this.tableData[e.newIndex+1].id;this.tableLoading=!0,o.A.get("/api/moveTask",{params:{device:this.device,taskId:t,nextTaskId:a}}).then((()=>this.taskList()))}})},methods:{taskList(){o.A.get("/api/taskList",{params:{device:this.device}}).then((({data:e})=>{this.tableData=e,this.tableLoading=!1}))},refresh(){this.tableLoading=!0,this.taskList()},addTask(){return this.form.type?"Settings-Stage1"!==this.form.type||this.form.params?(this.tableLoading=!0,void o.A.get("/api/addTask",{params:{device:this.device,type:this.form.type,params:"Settings-Stage1"===this.form.type?this.form.params:null}}).then((()=>this.taskList()))):(this.$notify.error({title:"错误",message:"请输入关卡名称"}),!1):(this.$notify.error({title:"错误",message:"请选择任务"}),!1)},removeTask(e){o.A.get("/api/removeTask",{params:{device:this.device,task:e}}).then((()=>this.taskList()))},moveTask(e){e.preventDefault(),console.log(JSON.stringify(e))},capture(){this.imageLoading=!0,o.A.get("/api/captureImage",{params:{device:this.device}}).then((({data:e})=>{this.image=e,this.imageLoading=!1}))}}},u=s,c=a(1656),d=(0,c.A)(u,n,r,!1,null,null,null),p=d.exports,f=a(1052),m=a.n(f);i["default"].use(m()),i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(p)}}).$mount("#app")}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={id:i,loaded:!1,exports:{}};return e[i](r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,i,n,r){if(!i){var o=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],r=e[c][2];for(var l=!0,s=0;s<i.length;s++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](i[s])}))?i.splice(s--,1):(l=!1,r<o&&(o=r));if(l){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,n,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,r,o=i[0],l=i[1],s=i[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var c=s(a)}for(t&&t(i);u<o.length;u++)r=o[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},i=self["webpackChunkremote_ui"]=self["webpackChunkremote_ui"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(9146)}));i=a.O(i)})();
//# sourceMappingURL=app.3c79f210.js.map